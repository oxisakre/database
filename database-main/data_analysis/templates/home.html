{% load tz %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <a href="{% url 'stats_view' %}">View Statistics</a>
    <a href="{% url 'box_usage' %}">View Box Usage Statistics</a>
    <title>Orders List</title>
  </head>
  <body>
    <h1>Orders List</h1>
    <table>
      <tr>
        <th>Order Number</th>
        <th>Customer</th>
        <th>Date</th>
        <th>Total Amount</th>
        <th>Shipping Cost</th>
        <th>Details</th>
      </tr>
      {% for order in orders %}
      <tr>
        <td>{{ order.order_number }}</td>
        <td>{{ order.customer.first_name }} {{ order.customer.last_name }}</td>
        <td>{{ order.order_date }}</td>
        <td>{{ order.total_amount }}</td>
        <td>{{ order.shipping_cost }}</td>
        <td><a href="{% url 'order_detail' order.pk %}">View Details</a></td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6">No orders found.</td>
      </tr>
      {% endfor %}
    </table>

    <div class="pagination">
      <span class="step-links">
        {% if orders.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ orders.previous_page_number }}">Previous</a>
        {% endif %}

        <span class="current"> Page {{ orders.number }} of {{ orders.paginator.num_pages }}. </span>

        {% if orders.has_next %}
        <a href="?page={{ orders.next_page_number }}">next</a>
        <a href="?page={{ orders.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
      </span>
    </div>
  </body>
</html>
